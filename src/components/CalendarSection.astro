---
// Previo kalendář obsazenosti - nahrazuje hardcoded kalendář
---

<section id="kalendar" class="section bg-sand-50">
  <div class="container">
    <h2 class="text-center mb-4">Kalendář obsazenosti</h2>
    <p class="text-center text-charcoal-600 mb-12 max-w-2xl mx-auto">
      Aktuální stav obsazenosti chalupy - vyberte si termín pro rezervaci
    </p>

    <div class="max-w-3xl mx-auto">
      <!-- Previo Calendar Widget -->
      <div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-sand-200 p-4 md:p-6">
        <div id="previo-booking-engine"></div>
      </div>
    </div>

    <!-- CTA -->
    <div class="text-center mt-8">
      <a href="/rezervace" class="btn-primary inline-flex items-center gap-2">
        Pokračovat k rezervaci
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- Previo Calendar Script -->
<script is:inline>
  if (typeof window !== 'undefined') {
    // Previo kalendář konfigurace
    var bookingEngineConfig = {
      id: '019b9807-c323-734b-b948-3059ae555022',
      lang: 'cs',
      currency: 'CZK'
    };

    // Dynamicky načíst Previo loader pouze pokud ještě není načten
    if (!document.querySelector('script[src*="booking.previo.app"]')) {
      var a = document.createElement('script');
      a.src = 'https://booking.previo.app/loader/';
      a.async = true;
      document.head.appendChild(a);
    }
  }
</script>

<style>
  /* Previo widget responsive adjustments */
  #previo-booking-engine {
    min-height: 500px;
  }

  @media (max-width: 768px) {
    #previo-booking-engine {
      min-height: 400px;
    }
  }
</style>
